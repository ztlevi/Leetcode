{"python":"class Solution(object):\n    def wordSquares(self, words):\n        \"\"\"\n        :type words: List[str]\n        :rtype: List[List[str]]\n        \"\"\"\n        n = len(words[0])\n        fulls = collections.defaultdict(list)\n        for word in words:\n            for i in range(n):\n                fulls[word[:i]].append(word)\n        def build(square):\n            if len(square) == n:\n                squares.append(square)\n                return\n            \n            for word in fulls[''.join(list(zip(*square))[len(square)])]:\n                build(square + [word])\n\n        squares = []\n        for word in words:\n            build([word])\n        return squares"}