{"python":"class Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        n = len(prices)\n        if n < 2:\n            return 0\n        preProfit = [0]*n; postProfit = [0]*n\n        curMin = prices[0]; curMax = prices[-1]\n        for i in range(1, n):\n            p = prices[i]\n            preProfit[i] = max(preProfit[i-1], p - curMin)\n            curMin = min(curMin, p)\n        for i in range(n-2, -1, -1):\n            p = prices[i]\n            postProfit[i] = max(postProfit[i+1], curMax - p)\n            curMax = max(curMax, p)\n\n        maxProfit = 0\n        for i in range(n):\n            maxProfit = max(maxProfit, preProfit[i] + postProfit[i])\n        return maxProfit"}